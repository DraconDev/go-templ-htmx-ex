package templates

//go:generate templ generate

// DashboardData represents the complete admin dashboard data
type DashboardData struct {
	TotalUsers    int
	SignupsToday  int
	SystemHealth  string
	RecentUsers   []RecentUser
	UsersThisWeek int
}

type RecentUser struct {
	Name  string
	Email string
	Date  string
}

templ AdminDashboardContent(user UserInfo, data DashboardData) {
	<div class="max-w-6xl mx-auto">
		<!-- Dashboard Header -->
		<div class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-2xl p-8 mb-8">
			<h1 class="text-3xl font-bold mb-2">ğŸ† Admin Dashboard</h1>
			<p class="text-purple-100">Welcome back, { user.Name } - Full administrative access</p>
		</div>
		
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
			<!-- User Stats Card -->
			<div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
				<div class="flex items-center justify-between mb-4">
					<h3 class="text-lg font-semibold text-gray-900">ğŸ‘¥ Total Users</h3>
					<div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
						<span class="text-blue-600 text-lg">ğŸ‘¥</span>
					</div>
				</div>
				<div class="text-3xl font-bold text-gray-900 mb-2">
					{ data.TotalUsers }
				</div>
				<div class="text-sm text-green-600 flex items-center">
					<span class="mr-1">â†—</span>
					+{ data.UsersThisWeek } this week
				</div>
			</div>
			
			<!-- Signups Today Card -->
			<div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
				<div class="flex items-center justify-between mb-4">
					<h3 class="text-lg font-semibold text-gray-900">ğŸ“… Signups Today</h3>
					<div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
						<span class="text-green-600 text-lg">ğŸ“…</span>
					</div>
				</div>
				<div class="text-3xl font-bold text-gray-900 mb-2">
					{ data.SignupsToday }
				</div>
				<div class="text-sm text-gray-500">New signups today</div>
			</div>
			
			<!-- Database Status Card -->
			<div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
				<div class="flex items-center justify-between mb-4">
					<h3 class="text-lg font-semibold text-gray-900">ğŸŸ¢ Database</h3>
					<div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
						<span class="text-green-600 text-lg">ğŸŸ¢</span>
					</div>
				</div>
				<div class="text-lg font-semibold text-gray-900 mb-2">
					{ data.SystemHealth }
				</div>
				<div class="text-sm text-gray-500">Real database status</div>
			</div>
		</div>
		
		<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
			<!-- Recent Users -->
			<div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
				<h3 class="text-lg font-semibold text-gray-900 mb-4">ğŸ‘¤ Recent Users</h3>
				<div class="space-y-3">
					{ if len(data.RecentUsers) > 0 }
						<div class="text-sm text-gray-500">
							Showing { len(data.RecentUsers) } recent users (first 5 displayed)
						</div>
						<!-- Show first 5 users as placeholder -->
						<div class="flex items-center justify-center p-8 text-gray-500">
							Recent users loaded from database
						</div>
					{ else }
						<div class="flex items-center justify-center p-8 text-gray-500">
							No recent users found
						</div>
					{ endif }
				</div>
			</div>
			
			<!-- Quick Actions -->
			<div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
				<h3 class="text-lg font-semibold text-gray-900 mb-4">âš¡ Quick Actions</h3>
				<div class="space-y-3">
					<button 
						hx-get="/api/admin/analytics"
						hx-target="#admin-content"
						hx-swap="innerHTML"
						class="w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"
					>
						<div class="flex items-center space-x-3">
							<span class="text-blue-600">ğŸ“Š</span>
							<div>
								<div class="font-medium text-blue-900">View Analytics</div>
								<div class="text-sm text-blue-600">Detailed usage statistics</div>
							</div>
						</div>
					</button>
					<button 
						hx-get="/api/admin/settings"
						hx-target="#admin-content"
						hx-swap="innerHTML"
						class="w-full text-left p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors"
					>
						<div class="flex items-center space-x-3">
							<span class="text-green-600">âš™ï¸</span>
							<div>
								<div class="font-medium text-green-900">System Settings</div>
								<div class="text-sm text-green-600">Configure application</div>
							</div>
						</div>
					</button>
					<button 
						hx-get="/api/admin/logs"
						hx-target="#admin-content"
						hx-swap="innerHTML"
						class="w-full text-left p-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors"
					>
						<div class="flex items-center space-x-3">
							<span class="text-purple-600">ğŸ“</span>
							<div>
								<div class="font-medium text-purple-900">View Logs</div>
								<div class="text-sm text-purple-600">System logs and errors</div>
							</div>
						</div>
					</button>
					<button 
						hx-get="/"
						hx-swap="none"
						class="w-full text-left p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"
					>
						<div class="flex items-center space-x-3">
							<span class="text-gray-600">ğŸ </span>
							<div>
								<div class="font-medium text-gray-900">Back to Home</div>
								<div class="text-sm text-gray-600">Return to main application</div>
							</div>
						</div>
					</button>
				</div>
			</div>
		</div>
		
		<!-- Content Area for Dynamic Updates -->
		<div id="admin-content" class="mt-8">
			<!-- This area will be updated by HTMX requests -->
		</div>
	</div>
}